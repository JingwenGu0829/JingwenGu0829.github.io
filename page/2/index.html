<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>AugustGu&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="AugustGu&#39;s blog">
<meta property="og:url" content="https://jingwengu0829.github.io/page/2/index.html">
<meta property="og:site_name" content="AugustGu&#39;s blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="AugustGu">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="AugustGu's blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">AugustGu&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://JingwenGu0829.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-7.10coding activity" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/14/7.10coding%20activity/" class="article-date">
  <time class="dt-published" datetime="2021-12-15T07:04:22.000Z" itemprop="datePublished">2021-12-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/club-report/">club report</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/14/7.10coding%20activity/">7.10coding activity</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="linear-regression"><a href="#linear-regression" class="headerlink" title="linear regression"></a>linear regression</h3><h4 id="linear-regression，single-variable"><a href="#linear-regression，single-variable" class="headerlink" title="linear regression，single variable"></a>linear regression，single variable</h4><p><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gsd5ihvwb8j30la0gc0ts.jpg"></p>
<p>Linear regression with a single variable is the simplist regression problem, its model is:<br>$$<br>h(x)&#x3D;\theta_0+\theta_1x<br>$$<br>x is the input, h(x) is the ouput of the suggested model. The program can adjust the constants by the given data.</p>
<h4 id="cost-function"><a href="#cost-function" class="headerlink" title="cost function"></a>cost function</h4><p>Cost function is the function used to measure the accuracy of the model h(x), which is also called “the loss function”.For a regression task, the most commonly used measurement is the Mean Squared Error (MSE), for example, for the model<br>$$<br>h(x)&#x3D;\theta_0+\theta_1x<br>$$<br>its MSE is:<br>$$<br>J(\theta_0,\theta_1)&#x3D;\frac{1}{2m}\sum_{i&#x3D;1}^m(h(x_1)-y_1)^2<br>$$</p>
<h4 id="gradient-descent"><a href="#gradient-descent" class="headerlink" title="gradient descent"></a>gradient descent</h4><p>Training is a way to decrease the cost gradually.</p>
<p>Gradient descent can be used to find the minumuim value of j.<img src="https://tva1.sinaimg.cn/large/008i3skNgy1gsd617mnk9j30o00b4gmy.jpg" alt="截屏2021-07-11 下午6.02.58"></p>
<h4 id="the-way-to-acheieve-regression-by-python"><a href="#the-way-to-acheieve-regression-by-python" class="headerlink" title="the way to acheieve regression by python"></a>the way to acheieve regression by python</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#import packages</span></span><br><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment">#load trainset from the csv file</span></span><br><span class="line">population = np.array([])</span><br><span class="line">profit = np.array([])</span><br><span class="line">reader = csv.reader(<span class="built_in">open</span>(<span class="string">&#x27;./data1.csv&#x27;</span>,<span class="string">&#x27;r&#x27;</span>))</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">    population = np.append(population, <span class="built_in">float</span>(row[<span class="number">0</span>]))</span><br><span class="line">    profit = np.append(profit, <span class="built_in">float</span>(row[<span class="number">1</span>]))</span><br><span class="line">    </span><br><span class="line"><span class="comment">#plot trainset</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plotData</span>(<span class="params">x, y, t0=<span class="literal">None</span>, t1=<span class="literal">None</span></span>):</span><br><span class="line">    plt.figure(figsize=(<span class="number">6</span>,<span class="number">4</span>))</span><br><span class="line">    plt.scatter(x.tolist(), y.tolist(), marker=<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (t0 != <span class="literal">None</span>) <span class="keyword">and</span> (t1 != <span class="literal">None</span>):</span><br><span class="line">        tempx = np.linspace(<span class="number">5</span>, <span class="number">22.5</span>, <span class="number">50</span>)</span><br><span class="line">        tempy = t0 + tempx * t1</span><br><span class="line">        plt.plot(tempx, tempy, color=<span class="string">&#x27;red&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Population of City in 10000&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;Profit in $10000&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line">plotData(population, profit)</span><br><span class="line"></span><br><span class="line"><span class="comment">#model definition of line regression</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">h</span>(<span class="params">x, theta0, theta1</span>):</span><br><span class="line">    <span class="keyword">return</span> theta0 + theta1 * x</span><br><span class="line">		<span class="keyword">def</span> <span class="title function_">computeCost</span>(<span class="params">x, y, theta0, theta1</span>):</span><br><span class="line">    m = <span class="built_in">len</span>(y)</span><br><span class="line">    J = <span class="number">1</span>/(<span class="number">2</span>*m) * <span class="built_in">sum</span>((h(x,theta0,theta1) - y) ** <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> J</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gradientDescent</span>(<span class="params">x, y, theta0, theta1, alpha, iterTimes</span>):</span><br><span class="line">    m = <span class="built_in">len</span>(y)</span><br><span class="line">    temp0 = theta0 - alpha*(<span class="number">1</span>/m) * <span class="built_in">sum</span>((h(x, theta0, theta1) - y));  </span><br><span class="line">    temp1 = theta1 - alpha*(<span class="number">1</span>/m) * <span class="built_in">sum</span>((h(x, theta0, theta1) - y) * x);  </span><br><span class="line">    iterTimes = iterTimes + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> temp0, temp1, iterTimes</span><br><span class="line">  </span><br><span class="line"><span class="comment">#model fitting</span></span><br><span class="line"><span class="comment">#Initialize  𝜃0,𝜃1 with random float from -10 to 10, learning rate a is set to 0.001</span></span><br><span class="line">theta0 = random.uniform(-<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line">theta1 = random.uniform(-<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line">alpha = <span class="number">0.001</span></span><br><span class="line">iterTimes = <span class="number">0</span> <span class="comment"># times of iteration</span></span><br><span class="line">cost = []</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;After %d iterations:&quot;</span>%(iterTimes))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;h(x) = %f + %fx&quot;</span>%((theta0, theta1)))  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Cost is %f now.&quot;</span>%(computeCost(population, profit, theta0, theta1)))</span><br><span class="line">plotData(population, profit, theta0, theta1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    theta0, theta1, iterTimes = gradientDescent(population, profit, theta0, theta1, alpha, iterTimes)</span><br><span class="line">    cost.append(computeCost(population, profit, theta0, theta1))</span><br><span class="line">    </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;After %d iterations:&quot;</span>%(iterTimes))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;h(x) = %f + %fx&quot;</span>%((theta0, theta1)))  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Cost is %f now.&quot;</span>%(computeCost(population, profit, theta0, theta1)))</span><br><span class="line"></span><br><span class="line">plotData(population, profit, theta0, theta1)</span><br><span class="line">plt.axes(yscale=<span class="string">&#x27;log&#x27;</span>)</span><br><span class="line">plt.plot(<span class="built_in">range</span>(iterTimes), cost)</span><br><span class="line">plt.xlabel(<span class="string">&quot;iter&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;cost&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h4 id="easier-way-out-using-sklearn"><a href="#easier-way-out-using-sklearn" class="headerlink" title="easier way out: using sklearn"></a>easier way out: using sklearn</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model</span><br><span class="line">model = linear_model.LinearRegression()</span><br><span class="line">x = np.array(population).reshape(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">y = np.array(profit).reshape(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">model.fit(x, y)</span><br><span class="line"></span><br><span class="line">a = model.intercept_[<span class="number">0</span>]</span><br><span class="line">b = model.coef_[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;h(x) = %f + %fx&quot;</span>%((a, b)))  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Cost = %f&quot;</span>%(computeCost(population, profit, a, b)))</span><br><span class="line"></span><br><span class="line">plotData(population, profit, theta0, theta1)</span><br></pre></td></tr></table></figure>

<h3 id="the-task"><a href="#the-task" class="headerlink" title="the task"></a>the task</h3><h4 id="Discription"><a href="#Discription" class="headerlink" title="Discription"></a>Discription</h4><ul>
<li>Another restaurant BurgerKenDonald hear that you have just learnt linear regression, so he finds you for help.</li>
<li>They collected some data from last year, including the running cost (influenced by the rent and labour cost) and revenue from last year (influenced by the transportatin and population)</li>
<li>Now, they are considering of opening a new shop. How can they estimate the profit of the new shop by the running cost?</li>
</ul>
<h4 id="solution1-using-sklearn"><a href="#solution1-using-sklearn" class="headerlink" title="solution1:using sklearn"></a>solution1:using sklearn</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model</span><br><span class="line"></span><br><span class="line">f = csv.reader(<span class="built_in">open</span>(<span class="string">&#x27;/Users/august/Desktop/202107_1_BurgerKenDonald/data2.csv&#x27;</span>,<span class="string">&#x27;r&#x27;</span>))</span><br><span class="line"></span><br><span class="line">x_axis=[]</span><br><span class="line">y_axis=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> f:</span><br><span class="line">    x_axis.append(<span class="built_in">float</span>(i[<span class="number">0</span>]))</span><br><span class="line">    y_axis.append(<span class="built_in">float</span>(i[<span class="number">1</span>]))</span><br><span class="line">    </span><br><span class="line">x_axis=np.array(x_axis)</span><br><span class="line">y_axis=np.array(y_axis)</span><br><span class="line"></span><br><span class="line">X = x_axis.reshape(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">X2 = np.hstack([X, X**<span class="number">2</span>])</span><br><span class="line">lin_reg2 = linear_model.LinearRegression()</span><br><span class="line">lin_reg2.fit(X2, y_axis)</span><br><span class="line">y_pred2 = lin_reg2.predict(X2)</span><br><span class="line"></span><br><span class="line">x1=np.linspace(<span class="number">200000</span>,<span class="number">900000</span>,<span class="number">1000000</span>)</span><br><span class="line">x1 = x1.reshape(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">X12 = np.hstack([x1, x1**<span class="number">2</span>])</span><br><span class="line">y1=lin_reg2.predict(X12)</span><br><span class="line">plt.plot(x1, y1,color=<span class="string">&quot;red&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.scatter(x_axis,y_axis)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>final result:<img src="https://tva1.sinaimg.cn/large/008i3skNgy1gsd6hyl4e9j30o60emabo.jpg" alt="截屏2021-07-11 下午6.19.06"></p>
<h4 id="solution2-using-the-line-fit-function"><a href="#solution2-using-the-line-fit-function" class="headerlink" title="solution2: using the line_fit function"></a>solution2: using the line_fit function</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> curve_fit</span><br><span class="line"></span><br><span class="line">f = csv.reader(<span class="built_in">open</span>(<span class="string">&#x27;/Users/august/Desktop/202107_1_BurgerKenDonald/data2.csv&#x27;</span>,<span class="string">&#x27;r&#x27;</span>))</span><br><span class="line"></span><br><span class="line">x_axis=[]</span><br><span class="line">y_axis=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> f:</span><br><span class="line">    x_axis.append(<span class="built_in">float</span>(i[<span class="number">0</span>]))</span><br><span class="line">    y_axis.append(<span class="built_in">float</span>(i[<span class="number">1</span>]))</span><br><span class="line">    </span><br><span class="line">x=np.array(x_axis)</span><br><span class="line">y=np.array(y_axis)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">x,a,b,c</span>):</span><br><span class="line">    <span class="keyword">return</span> a*x**<span class="number">2</span>+b*x+c</span><br><span class="line"></span><br><span class="line">popt, pcov = curve_fit(fit, x, y)</span><br><span class="line">x1=np.linspace(<span class="number">200000</span>,<span class="number">900000</span>,<span class="number">1000000</span>)</span><br><span class="line">yvals=fit(x1,popt[<span class="number">0</span>],popt[<span class="number">1</span>],popt[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">plt.plot(x1,yvals,color=<span class="string">&quot;red&quot;</span>)</span><br><span class="line">plt.scatter(x_axis,y_axis)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>final result:</p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gsd6i89dtnj30o60emgn5.jpg" alt="截屏2021-07-11 下午6.19.20"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jingwengu0829.github.io/2021/12/14/7.10coding%20activity/" data-id="cln84jd5j0001owcn1yt7ckve" data-title="7.10coding activity" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-title 6.12coding activity" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/14/title%206.12coding%20activity/" class="article-date">
  <time class="dt-published" datetime="2021-12-15T07:04:02.000Z" itemprop="datePublished">2021-12-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/club-report/">club report</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/14/title%206.12coding%20activity/">6.12coding activity</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h5 id="background-information"><a href="#background-information" class="headerlink" title="background information"></a>background information</h5><p>Pottery found from 9 archeological sites is made from 3 different styles: all white, corrugation and straigh line. Archaeologists judge from many discoveries that these sites belong to different ages. The percentage of styles in each sites is different. Now we have known that each style experience a trand from becoming popular to becoming unpopular. We have now known that pure white is the ealiest style.</p>
<h5 id="ways-to-solve"><a href="#ways-to-solve" class="headerlink" title="ways to solve"></a>ways to solve</h5><ul>
<li>plot 3D map</li>
<li>use Kmeans to give the similiar group a colour</li>
<li>observe and analyze the result</li>
</ul>
<h5 id="3Dmatplotlib"><a href="#3Dmatplotlib" class="headerlink" title="3Dmatplotlib"></a>3Dmatplotlib</h5><p><img src="https://tva1.sinaimg.cn/large/008i3skNgy1grfw4ikqx7j30hs0dc75q.jpg" alt="sphx_glr_scatter3d_001"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fixing random state for reproducibility</span></span><br><span class="line">np.random.seed(<span class="number">19680801</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">randrange</span>(<span class="params">n, vmin, vmax</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Helper function to make an array of random numbers having shape (n, )</span></span><br><span class="line"><span class="string">    with each number distributed Uniform(vmin, vmax).</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> (vmax - vmin)*np.random.rand(n) + vmin</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_subplot(projection=<span class="string">&#x27;3d&#x27;</span>)</span><br><span class="line"></span><br><span class="line">n = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># For each set of style and range settings, plot n random points in the box</span></span><br><span class="line"><span class="comment"># defined by x in [23, 32], y in [0, 100], z in [zlow, zhigh].</span></span><br><span class="line"><span class="keyword">for</span> m, zlow, zhigh <span class="keyword">in</span> [(<span class="string">&#x27;o&#x27;</span>, -<span class="number">50</span>, -<span class="number">25</span>), (<span class="string">&#x27;^&#x27;</span>, -<span class="number">30</span>, -<span class="number">5</span>)]:</span><br><span class="line">    xs = randrange(n, <span class="number">23</span>, <span class="number">32</span>)</span><br><span class="line">    ys = randrange(n, <span class="number">0</span>, <span class="number">100</span>)</span><br><span class="line">    zs = randrange(n, zlow, zhigh)</span><br><span class="line">    ax.scatter(xs, ys, zs, marker=m)</span><br><span class="line"></span><br><span class="line">ax.set_xlabel(<span class="string">&#x27;X Label&#x27;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&#x27;Y Label&#x27;</span>)</span><br><span class="line">ax.set_zlabel(<span class="string">&#x27;Z Label&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h5 id="Kmeans"><a href="#Kmeans" class="headerlink" title="Kmeans"></a>Kmeans</h5><p><strong>Kmeans</strong> algorithm is an iterative algorithm that tries to partition the dataset into <em>K</em>pre-defined distinct non-overlapping subgroups (clusters) where each data point belongs to only one group. It tries to make the intra-cluster data points as similar as possible while also keeping the clusters as different (far) as possible. It assigns data points to a cluster such that the sum of the squared distance between the data points and the cluster’s centroid (arithmetic mean of all the data points that belong to that cluster) is at the minimum. The less variation we have within clusters, the more homogeneous (similar) the data points are within the same cluster.</p>
<ol>
<li>Specify number of clusters <em>K</em>.</li>
<li>Initialize centroids by first shuffling the dataset and then randomly selecting <em>K</em> data points for the centroids without replacement.</li>
<li>Keep iterating until there is no change to the centroids. i.e assignment of data points to clusters isn’t changing.</li>
</ol>
<h5 id="codes-to-acheive"><a href="#codes-to-acheive" class="headerlink" title="codes to acheive"></a>codes to acheive</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> mpl_toolkits.mplot3d</span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans </span><br><span class="line"></span><br><span class="line">x = np.array([<span class="number">0</span>,<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">60</span>,<span class="number">70</span>,<span class="number">80</span>,<span class="number">90</span>,<span class="number">100</span>])</span><br><span class="line">y = np.array([<span class="number">0</span>,<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">60</span>,<span class="number">70</span>,<span class="number">80</span>,<span class="number">90</span>,<span class="number">100</span>])</span><br><span class="line">z = np.array([<span class="number">0</span>,<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">60</span>,<span class="number">70</span>,<span class="number">80</span>,<span class="number">90</span>,<span class="number">100</span>])</span><br><span class="line"></span><br><span class="line">fig = plt.figure( figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line">ax1 = plt.axes(projection=<span class="string">&#x27;3d&#x27;</span>)</span><br><span class="line">ax1.set_xlabel(<span class="string">&#x27;white&#x27;</span>)  </span><br><span class="line">ax1.set_ylabel(<span class="string">&#x27;corrugation&#x27;</span>) </span><br><span class="line">ax1.set_zlabel(<span class="string">&#x27;staright line&#x27;</span>) </span><br><span class="line"></span><br><span class="line">X=np.array([[<span class="number">100</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">70</span>,<span class="number">30</span>],[<span class="number">50</span>,<span class="number">50</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">20</span>,<span class="number">80</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">100</span>],[<span class="number">70</span>,<span class="number">30</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">100</span>,<span class="number">0</span>],[<span class="number">30</span>,<span class="number">70</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">60</span>,<span class="number">40</span>]])</span><br><span class="line">cls=KMeans(n_clusters=<span class="number">3</span>).fit(X)</span><br><span class="line">labels=cls.labels_</span><br><span class="line"></span><br><span class="line">ax1.scatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>], X[:, <span class="number">2</span>],</span><br><span class="line">               c=labels)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/008i3skNgy1grfx68uwl7j30n00ie75u.jpg" alt="截屏2021-06-12 下午11.52.43"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jingwengu0829.github.io/2021/12/14/title%206.12coding%20activity/" data-id="cln84jd5q000mowcn18tigf0g" data-title="6.12coding activity" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-title 4.24coding activity" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/14/title%204.24coding%20activity/" class="article-date">
  <time class="dt-published" datetime="2021-12-15T07:03:42.000Z" itemprop="datePublished">2021-12-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/club-report/">club report</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/14/title%204.24coding%20activity/">4.24coding activity</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="Use-cosin-similarity-to-compare-the-number-words-in-European-languages"><a href="#Use-cosin-similarity-to-compare-the-number-words-in-European-languages" class="headerlink" title="Use cosin similarity to compare the number words in European languages"></a>Use cosin similarity to compare the number words in European languages</h4><h6 id="background-information"><a href="#background-information" class="headerlink" title="background information"></a>background information</h6><p>European countries have deep historical relationships between each other. Both similarities and difference exist between languages. It is a particularly interesting topic to discuss the relationship between different languages.</p>
<p>However, becaus of the comlexity of each languages, we have to figure out a easy way to reflect the relationship and difference between them. One way is to compare the number wordsin each languages, for these words are frequently used in each languages. Their difference show difference between countries in some ways.</p>
<h5 id="the-original-chart"><a href="#the-original-chart" class="headerlink" title="the original chart"></a>the original chart</h5><p><img src="https://tva1.sinaimg.cn/large/008i3skNgy1grfsg1086oj310c0hywix.jpg" alt="截屏2021-06-12 下午9.08.57"></p>
<h5 id="use-cosin-similarity-to-estimate"><a href="#use-cosin-similarity-to-estimate" class="headerlink" title="use cosin similarity to estimate"></a>use cosin similarity to estimate</h5><p>Cosine similarity measures the similarity between two vectors of an inner product space. It is measured by the cosine of the angle between two vectors and determines whether two vectors are pointing in roughly the same direction. It is often used to measure document similarity in text analysis.</p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNgy1grfssabs80j30nq040glx.jpg" alt="截屏2021-06-12 下午9.20.51"></p>
<h6 id="codes-to-achieve"><a href="#codes-to-achieve" class="headerlink" title="codes to achieve"></a>codes to achieve</h6><ul>
<li>import libaraies and data</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> prettytable <span class="keyword">as</span> pt</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line">words = pd.read_csv(<span class="built_in">open</span>(<span class="string">&quot;/Users/august/Desktop/11种欧洲语言的数词(1).csv&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">arr=np.array(words)</span><br><span class="line">a=words.keys()</span><br><span class="line">b= a.insert(<span class="number">0</span>,<span class="string">&quot; &quot;</span>)</span><br><span class="line"></span><br><span class="line">s=(<span class="built_in">list</span>(a))</span><br><span class="line">s_length=<span class="built_in">len</span>(s)</span><br></pre></td></tr></table></figure>

<ul>
<li>define cosin similarity</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cosineSimilarity</span>(<span class="params">wordA, wordB</span>):</span><br><span class="line">    chars = []</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> wordA:</span><br><span class="line">        chars.append(c)</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> wordB:</span><br><span class="line">        chars.append(c)</span><br><span class="line">        </span><br><span class="line">    chars = <span class="built_in">list</span>(<span class="built_in">set</span>(chars)) </span><br><span class="line">    </span><br><span class="line">    vecA = []</span><br><span class="line">    vecB = []</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> chars:</span><br><span class="line">        vecA.append(wordA.count(c))</span><br><span class="line">        vecB.append(wordB.count(c))</span><br><span class="line">    </span><br><span class="line">    dotProduct = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(vecA)):</span><br><span class="line">        dotProduct += vecA[i] * vecB[i]</span><br><span class="line">    </span><br><span class="line">    lengthA = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(vecA)):</span><br><span class="line">        lengthA += vecA[i] ** <span class="number">2</span></span><br><span class="line">    lengthA = math.sqrt(lengthA)</span><br><span class="line">    </span><br><span class="line">    lengthB = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(vecB)):</span><br><span class="line">        lengthB += vecB[i] ** <span class="number">2</span></span><br><span class="line">    lengthB = math.sqrt(lengthB)</span><br><span class="line">    </span><br><span class="line">    cosTheta = dotProduct / (lengthA * lengthB)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cosTheta</span><br></pre></td></tr></table></figure>

<ul>
<li>define the comparison function</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">two_country_compare</span>(<span class="params">a,b</span>):</span><br><span class="line">    k=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span> (<span class="built_in">len</span>(arr)):</span><br><span class="line">        k+=cosineSimilarity(arr[i][a],arr[i][b])</span><br><span class="line">    k=k/<span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> k</span><br></pre></td></tr></table></figure>

<ul>
<li>plot the table</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">tb = pt.PrettyTable()</span><br><span class="line">tb.field_names =b</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span> (<span class="built_in">len</span>(arr[<span class="number">1</span>])):</span><br><span class="line">    lst=[]</span><br><span class="line">    lst.append(b[i+<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(arr[<span class="number">1</span>])):</span><br><span class="line">        <span class="keyword">if</span> i&lt;=j:</span><br><span class="line">            k=two_country_compare(i,j)</span><br><span class="line">            lst.append(<span class="string">&quot;%.3f&quot;</span> %(k))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            lst.append(<span class="string">&quot; &quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    tb.add_row(lst)</span><br><span class="line"><span class="built_in">print</span>(tb)  </span><br></pre></td></tr></table></figure>

<h5 id="the-final-result"><a href="#the-final-result" class="headerlink" title="the final result"></a>the final result</h5><p><img src="https://tva1.sinaimg.cn/large/008i3skNgy1grfswm4uvnj31920f0wk8.jpg" alt="截屏2021-06-12 下午9.25.03"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jingwengu0829.github.io/2021/12/14/title%204.24coding%20activity/" data-id="cln84jd5p000gowcnelosdpzf" data-title="4.24coding activity" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Coursera-books/">Coursera & books</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/academic-reports/">academic reports</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/club-report/">club report</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python-notes/">python notes</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/research/">research</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/03/07/machine%20learning/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/02/01/h.264%20notes/">Principle of H.264 encoding</a>
          </li>
        
          <li>
            <a href="/2022/01/16/kaggle%20skills/">4. useful functions in Kaggle</a>
          </li>
        
          <li>
            <a href="/2022/01/16/deep%20learning/">deep learning and neural network</a>
          </li>
        
          <li>
            <a href="/2021/12/19/himcm/">report of HIMCM</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 AugustGu<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>